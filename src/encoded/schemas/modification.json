{
    "title": "Modification",
    "description": "Stable Genetic Modifications.",
    "id": "/profiles/modification.json",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "required": ["description", "modification_type", "lab", "award"],
    "identifyingProperties": ["uuid","aliases"],
    "additionalProperties": false,
    "mixinProperties": [
        { "$ref": "mixins.json#/schema_version" },
        { "$ref": "mixins.json#/uuid" },
        { "$ref": "mixins.json#/aliases" },
        { "$ref": "mixins.json#/status" },
        { "$ref": "mixins.json#/attribution" },
        { "$ref": "mixins.json#/references" },
        { "$ref": "mixins.json#/submitted" },
        { "$ref": "mixins.json#/notes" }
    ],
    "properties": {
        "schema_version": {
            "default": "1"
        },
        "description": {
            "title": "Description",
            "description": "A brief plain text description of the modification.",
            "type": "string"
        },
        "modification_type": {
            "title": "Genomic Modification Type",
            "description": "The type of genomic modification.",
            "type": "string",
            "enum" : [
              "Crispr",
              "Stable Transfection",
              "Other"
            ]
        },
        "constructs": {
            "title": "Constructs",
            "description": "Recombinant constructs used to make modification.",
            "type":  "array",
            "items": {
                "title": "Constructs",
                "description": "A recombinant construct.",
                "type": "string",
                "linkTo": "Construct"
            }
        },
        "guide_rnas": {
            "title": "Guide RNAs",
            "description": "The guide RNA sequences used in Crispr targetting.",
            "type": "array",
            "items": {
                "title": "Guide RNA",
                "description": "Sequence of the guide RNA - submit as DNA (i.e. T not U) can include the PAM motif that is not actually part of the transcribed target and should not include the tracrRNA so that the sequence submitted reflects the genomic sequence",
                "type": "string",
                "pattern": "^[ATGCN]+$"
            }
        },
        "modified_regions": {
            "title": "Modified Regions",
            "description": "Modified genomic regions (if different than target)",
            "type": "array",
            "items": {
                "title": "Genomic region",
                "description": "region being modfied",
                "type": "string",
                "linkTo": "GenomicRegion"
            }
        },
        "target_of_mod": {
            "title": "Target of Modification",
            "description": "The gene or genomic region that is targeted by the modification.",
            "type": "string",
            "linkTo": "Target"
        },
        "url": {
            "title": "URL",
            "description": "An external resource with additional information about the construct.",
            "type": "string",
            "format": "uri"
        },
        "created_by" : {
            "title": "Created By",
            "description": "Lab or Company that produced the modfication",
            "type": "string",
            "linkTo": "Vendor"
        }
    }
}
