{
    "title": "ENCODE Nucleic Acid Library",
    "id": "/profiles/library.json",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "description": "Schema for submitting an ENCODE Nucleic Acid Library",
    "type": "object",
    "required": [ "award", "lab", "type", "source", "type", "term_id"],
    "additionalProperties": false,
    "properties": {
        "accession": {
            "default": "",
            "description": "ENCODE DCC assigned accession",
            "comments": "Not to be submitted or updated by non-admin users.",
            "title": "Library Accession",
            "type": "string",
            "format": "accession"
        },
       "description": {
            "default": "",
            "description": "A plain text description of the biosample",
            "title": "",
            "type": "string"
        },
        "lab": {
            "default": "ENCODE Project",
            "description": "Submitting Lab",
            "comment": "Automatic submitters can supply a Lab UUID or Name",
            "title": "Lab",
            "type": "string",
            "format": "lab_link"
        },
        "award": {
            "default": "ENCODE",
            "description": "Award (Grant) this submission is registered under",
            "comment": "Automatic submitters can supply an Award UUID, name, or number",
            "title": "Award Name",
            "type": "string",
            "format": "award_link"
        },
        "biosample": {
            "description": "Biosample from which this library was derived or isolated.",
            "comment": "Automatic submitters can supply an ENCODE source UUID or unique Source name",
            "title": "Biosample",
            "type": "string",
            "format": "biosample_link"
        },
        "type": {
            "description": "Type/subtype of nucleic acid isolated.",
            "title": "Nucleic Acid Type",
            "comment": "These will be SO (sequence ontology) terms were possible, but only a small subset",
            "type": {
                "enum": [
                    "DNA",
                    "RNA",
                    "Poly-A+ RNA",
                    "Small RNA",
                    "miRNA",
                ]
            }
        },
        "term_id": {
            "description": "The ID of the SO (Sequence Ontology) term best matching the nucleic acid type",
            "title": "SO Term ID",
            "type": "string",
            "pattern": "^SO:[0-9]{7}$"

        },
        "dbxref": {
            "default": {},
            "description": "List of Database (including Lab) cross-references",
            "additionalProperties": {
                "default": [],
                "description": "List of Database IDs",
                "title": "Database IDs",
                "type":  "array",
                "items": {
                    "description": "Database identifier",
                    "title": "DB ID",
                    "type": "string"
                }
            },
            "title": "DBXREFs",
            "type": "object"
        },
        "documents": {
            "default": [],
            "description": "List of library prep and other protocols",
            "items": {
                "description": "A library prep or other protocol document",
                "comment": "Automatic submitters can supply an ENCODE document UUID or unique document name",
                "title": "Protocol Document",
                "type": "string",
                "format": "document_link"
            },
            "title": "List of Protocol Documents",
            "type": "array"
        },
        "nucleic_acid_starting_quantity": {
            "description": "Starting amount of nucleic acid before selection and purification",
            "title": "Starting Quantity",
            "type": "string",
            "pattern": "[0-9]+"
        },
        "extraction_method": {
            "default": "see document",
            "description": "A short description of the nucleic acid extraction method used in Library prep.",
            "title": "Extraction Method",
            "type": "string"
        },
        "fragmentation_method": {
            "description": "A short description of the nucleic acid fragmentation method used in Library prep.",
            "title": "Fragmentation Method",
            "default": "see document",
            "type": "string"
        },
        "library_size_selection_method": {
            "default": "see document",
            "description": "",
            "title": "",
            "type": {
                "enum": [
                    "gel",
                    "see document",
                    "SPRI beads"
                ]
            }
        },
        "lysis_method": {
            "description": "A short description of the cell lysis method used in Library prep.",
            "title": "Lysis Method",
            "default": "see document",
            "type": "string"
        },
        "size_range": {
            "description": "The measured size range of the purified nucleic acid, in kD",
            "title": "Size Range",
            "type": "string",
            "pattern": "(^[0-9]+-[0-9]+$|^[<>][0-9]+$)"
        },
        "strand_specificity": {
            "default": false,
            "description": "Whether or not the library was prepared in a strand-specific manner.",
            "title": "Strand Specificity",
            "type": "boolean"
        }
    }
}