{
    "title": "ENCODE Antibody Validation",
    "id": "/profiles/antibody_validation.json",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "version": "0.01",
    "description": "Schema for submitting antibody validation data",
    "type": "object",
    "required": [ "award", "lab", "antibody" ],
    "additionalProperties": false,
    "mixinProperties": [
        { "$ref": "mixins.json#/uuid" },
        { "$ref": "mixins.json#/submitted" }
    ],
    "properties": {
        "antibody": {
            "description": "The specific antibody for which the validation image applies.",
            "comment": "Automatic submitters can supply an ENCODE antibody accession or uuid",
            "title": "Antibody to be Validated",
            "type": "string",
            "linkTo": "antibody_lot"
        },
        "target": {
            "description": "Target for which the antibody validation applies.",
            "comment": "Automatic submitters can supply a target uuid, or name/species pair",
            "title": "Antibody Target",
            "type": "string",
            "linkTo": "target"
        },
        "lab": {
            "description": "Submitting Lab",
            "comment": "Automatic submitters can supply a Lab UUID or Name",
            "title": "Lab",
            "type": "string",
            "linkTo": "lab"
        },
        "award": {
            "description": "Award (Grant) this submission is registered under",
            "comment": "Automatic submitters can supply an Award UUID, name, or number",
            "title": "Award Name",
            "type": "string",
            "linkTo": "award"
        },
        "document": {
            "description": "Document file metadata",
            "title": "Document File Metadata",
            "properties": {
                "download": {
                    "description": "The filename that will appear when downloaded from the web",
                    "title": "File Download Name",
                    "type": "string"
                },
                "href": {
                    "description": "Internal webapp URL for document file",
                    "title": "href",
                    "type": "string",
                    "format": "uri"
                },
                "type": {
                    "description": "File MIME-type",
                    "title": "MIME-type",
                    "enum": [
                        "application/pdf",
                        "text/plain",
                        "image/jpeg",
                        "image/tiff",
                        "image/gif",
                        "image/png"
                    ]
                }
            },
            "type": "object"
        },
        "validation_method": {
            "description": "Experimental method for the validation image",
            "comment": "This will likely get mapped to an experimental methods ontology.",
            "title": "Method",
            "type": "string",
            "enum": [
                "western blot",
                "western blot after IP",
                "immunoprecipitation",
                "immunofluorescense",
                "knockdowns",
                "mass spectrometry after IP",
                "chIP comparison",
                "tagged epitopes",
                "motif enrichment",
                "dot blot",
                "peptide ELISA",
                "competitor peptides",
                "mutant organisms",
                "mutant histones",
                "annotation enrichment",
                "XXX NEED REVIEW",
                "Western blot, Western blot after IP",
                "immunoblot"
            ]
        },
        "caption": {
            "default": "",
            "description": "Caption for the validation image",
            "title": "Image Caption",
            "type": "string"
        },
        "date_validated": {
            "description": "Date in which the validation experiment was run.",
            "title": "Date Validated",
            "type": "string",
            "format": "date"
        },
        "references": {
            "default": [],
            "description": "List of references (Pubmed IDs)",
            "title": "References",
            "reference": {
                "description": "Pubmed id for a published reference",
                "title": "Pubmed Reference",
                "type": "string",
                "pattern": "^PMID:[0-9]+$"
            },
            "type": "array"
        },
        "status": {
            "default": "INCOMPLETE",
            "description": "Approval status for the Validation image",
            "title": "Approval Status",
            "type": "string",
            "enum" : [
                "APPROVED",
                "SUBMITTED",
                "UNSUBMITTED",
                "FAILED",
                "INCOMPLETE"
            ]
        },
        "validation_comment": {
            "default": "",
            "description": "Should probably be on the status transistion",
            "title": "Validation comment",
            "type": "string",
            "permission": "review"
        }
    }
}