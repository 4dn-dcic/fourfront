{
    "title": "Mixin properties",
    "schema_version": {
        "schema_version": {
            "title": "Schema Version",
            "comment":  "Do not submit, value is assigned by the server. The version of the JSON schema that the server uses to validate the object. Schema version indicates generation of schema used to save version to to enable upgrade steps to work. Individual schemas should set the default.",
            "type": "string",
            "pattern": "^\\d+(\\.\\d+)*$",
            "requestMethod": []
        }
    },
    "uuid": {
        "uuid": {
            "title": "UUID",
            "type": "string",
            "format": "uuid",
            "serverDefault": "uuid4",
            "requestMethod": "POST"
        }
    },
    "accession": {
        "accession": {
            "title": "Accession",
            "description": "A unique identifier to be used to reference the object.",
            "comment": "Only admins are allowed to set or update this value.",
            "type": "string",
            "format": "accession",
            "serverDefault": "accession"
        },
        "alternate_accessions": {
            "title": "Alternate accessions",
            "description": "Accessions previously assigned to objects that have been merged with this object.",
            "type": "array",
            "default": [],
            "items": {
                "title": "Alternate Accession",
                "description": "An accession previously assigned to an object that has been merged with this object.",
                "comment":"Only admins are allowed to set or update this value.",
                "type": "string",
                "format": "accession"
            }
        }
    },
    "aliases": {
        "aliases": {
            "title": "Lab aliases",
            "description": "Lab specific identifiers to reference an object.",
            "type": "array",
            "default": [],
            "uniqueItems": true,
            "items": {
                "uniqueKey": "alias",
                "title": "Lab alias",
                "description": "A lab specific identifier to reference an object.",
                "comment": "Current convention is colon separated lab name and lab identifier. (e.g. john-doe:42).",
                "type":  "string",
                "pattern": "^\\S+:\\S+"
            }
        }
    },
    "status": {
        "status": {
            "title": "Status",
            "type": "string",
            "default": "current",
            "enum": [
                "current",
                "in progress",
                "deleted",
                "replaced",
                "released",
                "revoked"
            ]
        }
    },
    "submitted": {
        "date_created": {
            "rdfs:subPropertyOf": "dc:created",
            "title": "Date created",
            "comment": "Do not submit, value is assigned by the server. The date the object is created.",
            "type": "string",
            "anyOf": [
                {"format": "date-time"},
                {"format": "date"}
            ],
            "serverDefault": "now"
        },
        "submitted_by": {
            "rdfs:subPropertyOf": "dc:creator",
            "title": "Submitted by",
            "comment": "Do not submit, value is assigned by the server. The user that created the object.",
            "type": "string",
            "linkTo": "User",
            "serverDefault": "userid"
        }
    },
    "modified": {
      "lastmodified": {
          "title": "Last modified",
          "comment": "list of modfication times and users that modified - do not submit!",
          "type": "array",
          "items": {
              "date_modified": {
                  "rdfs:subPropertyOf": "dc:modified",
                  "title": "Date modified",
                  "description": "Do not submit, value is assigned by the server. The date the object is modified.",
                  "type": "string",
                  "anyOf": [
                      {"format": "date-time"},
                      {"format": "date"}
                  ],
                  "serverDefault": "now"
              },
              "modified_by": {
                  "rdfs:subPropertyOf": "dc:modifier",
                  "title": "Modified by",
                  "description": "Do not submit, value is assigned by the server. The user that modfied the object.",
                  "type": "string",
                  "linkTo": "User",
                  "serverDefault": "userid"
              }
          }
      }
    },
    "references": {
        "references": {
            "title": "References",
            "description": "The publications that provide more information about the object.",
            "type": "array",
            "default": [],
            "uniqueItems": true,
            "items": {
                "title": "Reference",
                "description": "A publication that provide smore information about the object.",
                "type": "string",
                "linkTo": "Publication"
            }
        }
    },
    "attribution": {
        "lab": {
            "title": "Lab",
             "description": "Lab associated with the submission.",
            "comment": "See lab.json for list of available identifiers.",
            "type": "string",
            "linkTo": "Lab",
            "linkSubmitsFor": true
        },
        "award": {
            "title": "Grant",
            "description": "Grant associated with the submission.",
            "comment": "See award.json for list of available identifiers.",
            "type": "string",
            "linkTo": "Award"
        }
    },
    "notes": {
        "notes": {
            "title": "Notes",
            "description": "DCIC internal notes.",
            "type": "string",

            "elasticsearch_mapping_index_type": {
                "title": "Field mapping index type",
                "description": "Defines one of three types of indexing available",
                "type": "string",
                "default": "analyzed",
                "enum": [
                    "analyzed",
                    "not_analyzed",
                    "no"
                ]
            }
        }
    },
    "documents": {
      "documents": {
          "title": "Documents",
          "description": "Documents that provide additional information (not data file).",
          "type": "array",
          "default": [],
          "uniqueItems": true,
          "items": {
              "title": "Document",
              "description": "A document that provides additional information (not data file).",
              "type": "string",
              "comment": "See document.json for available identifiers.",
              "linkTo": "Document"
          }
      }
    },
    "attachment": {
        "attachment": {
            "title": "Attached Document",
            "type": "object",
            "additionalProperties": false,
            "formInput": "file",
            "attachment": true,
            "properties": {
                "download": {
                    "title": "File Name",
                    "type": "string"
                },
                "href": {
                    "comment": "Internal webapp URL for document file",
                    "type": "string"
                },
                "type": {
                    "title": "MIME type",
                    "type": "string",
                    "enum": [
                        "application/pdf",
                        "text/plain",
                        "text/tab-separated-values",
                        "image/jpeg",
                        "image/tiff",
                        "image/gif",
                        "text/html",
                        "image/png",
                        "image/svs",
                        "text/autosql"
                    ]
                },
                "md5sum": {
                    "title": "MD5sum",
                    "type": "string",
                    "format": "md5sum"
                },
                "size": {
                    "title": "File size",
                    "type": "integer"
                },
                "width": {
                    "title": "Image width",
                    "type": "integer"
                },
                "height": {
                    "title": "Image height",
                    "type": "integer"
                }
            }
        }
    },
    "attachments": {
        "attachments": {
            "title": "Attached Documents",
            "type": "array",
            "additionalProperties": false,
            "uniqueItems": true,
            "items": {
                "title": "Attached Document",
                "description": "A document to upload.",
                "type":  { "$ref": "#/attachment" },
                "formInput": "file",
                "attachment": true
            }
        }
    },
    "dbxrefs": {
      "dbxrefs": {
            "@type": "@id",
            "rdfs:subPropertyOf": "rdfs:seeAlso",
            "title": "External identifiers",
            "description": "Unique identifiers from external resources.",
            "type": "array",
            "default": [],
            "uniqueItems": true,
            "items": {
                "title": "External identifier",
                "description": "A unique identifier from external resource.",
                "type":  "string"
            }
        }
    },
    "library": {
        "average_fragment_size": {
            "title": "Average Fragment Size (bp)",
            "description": "Size of average fragment in base pairs after fragmentation step",
            "type": "integer"
        },
        "fragment_size_range": {
            "title": "Fragment size range",
            "description": "The measured size range of the purified nucleic acid, in bp.",
            "type": "string",
            "pattern": "(^[0-9]+-[0-9]+$|^[<>][0-9]+$)"
        },
        "fragmentation_method": {
            "title": "Fragmentation method",
            "description": "A short description or reference of the nucleic acid fragmentation protocol used in library preparation, if applicable.",
            "type": "string",
            "enum": [
              "chemical",
              "shearing",
              "sonication",
              "see protocol document",
              "none",
              "n/a"
            ]
        },
        "fragmentation_date":{
            "title": "Fragmentation date",
            "description": "The date that the nucleic acid was fragmented.",
            "comment": "Date can be submitted in as YYYY-MM-DD or YYYY-MM-DDTHH:MM:SSTZD (TZD is the time zone designator; use Z to express time in UTC or for time expressed in local time add a time zone offset from UTC +HH:MM or -HH:MM).",
            "type": "string",
            "anyOf": [
                {"format": "date-time"},
                {"format": "date"}
            ]
        },
        "fragment_size_selection_method": {
            "title": "Size selection method",
            "description": "A short description or reference of the size selection protocol used in library preparation, if applicable.",
            "type": "string",
            "enum": [
              "gel",
              "see document",
              "SPRI beads"
          ]
        }
    },
    "genome_region": {
        "title": "Genomic Region",
        "description": "A region of the genome described by assembly, chromosome and exact or approximate location",
        "type": "object",
        "additionalProperties": false,
        "properties": {
            "genome_assembly": {
                "title": "Genome assembly",
                "description": "The genome assembly from which the region was derived",
                "type": "string",
                "enum": [
                    "GRCh38",
                    "GRCh37",
                    "GRCm38",
                    "MGSCv37"
                ]
            },
            "chromosome": {
                "title": "Chromosome",
                "description": "The chromosome containing the region",
                "type": "string",
                "enum": ["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","X","Y"]
            },
            "start_coordinate": {
                "title": "Start",
                "description": "The base position of the start coordinate of the region - start < end",
                "type": "integer"
            },
            "end_coordinate": {
                "title": "End",
                "description": "The base position of the end coordinate - end > start",
                "type": "integer"
            },
            "location_description": {
                "title": "Location Description",
                "description": "If exact coordinates of the region are not available a description of the genome location"
            }
        }
    }
}
