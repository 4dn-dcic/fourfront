{
    "title": "Ontology Term",
    "description": "Schema for submitting an ontology term.",
    "id": "/profiles/ontology_term.json",
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "required": ["term_name"],
    "identifyingProperties": ["uuid", "term_name", "termid", "display_name"],
    "additionalProperties": false,
    "mixinProperties": [
        { "$ref": "mixins.json#/schema_version" },
        { "$ref": "mixins.json#/uuid" },
        { "$ref": "mixins.json#/references" },
        { "$ref": "mixins.json#/submitted" },
        { "$ref": "mixins.json#/status" },
        { "$ref": "mixins.json#/notes" }
    ],
    "properties": {
        "schema_version": {
            "default": "1"
        },
        "status": {
            "default": "released"
        },
        "preferred_name": {
          "title": "Display name",
          "description": "A preferred name (possibly shortened or simpler version) for the ontology term - can be used for submission or retrieval.",
          "type": "string"
        },
        "term_name": {
          "title": "Term name",
          "description": "The current valid name for the ontology term.",
          "type": "string"
        },
        "term_id": {
          "title": "Term ID",
          "description": "The ID for the ontology term.",
          "type": "string"
        },
        "source_ontology": {
            "title": "Ontology that this term is part of",
            "descripton": "The ontology from whence this term EFO, OBI, UBERON",
            "type": "string",
            "linkTo": "Ontology"
        },
        "definition": {
            "title": "Definition",
            "description": "The definition for the ontology term.",
            "type": "string",
            "permission": "import-items",
            "exclude_from": "submit4dn",
            "internal_comment": "calculated from term info"
        },
        "exact_synonyms": {
            "title": "Synonyms",
            "description": "Synonyms for the ontology term.",
            "exclude_from": "submit4dn",
            "internal_comment": "Calculated from term info - cannot be used as ID",
            "type": "array",
            "items" : {
                "title": "Synonym",
                "description": "An ontology term synonym.",
                "type":  "string",
                "permission": "import-items"
            }
        },
        "term_url": {
            "title": "URL",
            "description": "An external resource with information about the ontology term.",
            "type": "string",
            "format": "uri",
            "permission": "import-items",
            "exclude_from": "submit4dn",
            "internal_comment": "Calculated"
        },
        "namespace": {
            "title": "Term namespace",
            "description": "The namespace to which the term belongs",
            "type": "string"
        },
        "parents": {
            "title": "Parent terms",
            "description": "Ontology terms that are direct parents of this term",
            "type": "array",
            "items": {
                "title": "Parent Term",
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "relationship": {
                        "title": "Relationship",
                        "description": "the relationship to the child",
                        "type": "string",
                        "enum": ["part of", "is a", "derives from"],
                        "internal_comment": "Use string for now but consider using a formal relationship ontology?"
                    },
                    "parent": {
                        "title": "Parent",
                        "description": "The parent ontology term",
                        "type": "string",
                        "linkTo": "OntologyTerm"
                    }
                }
            }
        }
    }
}
